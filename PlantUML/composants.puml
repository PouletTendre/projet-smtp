@startuml composants

title Diagramme de composants - Projet SMTP

package "Application Client" {
    [client.py] as client_main
    [SMTPClient] as smtp_client
}

package "Application Serveur" {
    [server.py] as server_main
    [SMTPServer] as smtp_server
    [SMTPSession] as smtp_session
    [SMTPHandler] as smtp_handler
}

package "Stockage" {
    [Mailbox] as mailbox
    folder "mailboxes/" as mailboxes_folder
}

client_main --> smtp_client : utilise
server_main --> smtp_server : lance

smtp_server --> smtp_session : cree pour chaque client
smtp_session --> smtp_handler : traite les commandes
smtp_handler --> mailbox : sauvegarde les mails
mailbox --> mailboxes_folder : ecrit les fichiers

smtp_client <..> smtp_session : TCP/SMTP

@enduml
